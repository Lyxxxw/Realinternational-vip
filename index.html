<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real International | VIP Strategic Investment Cockpit</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --brand-gold: #b0955b;
            --bg-cream: #f3eee4;
            --forest-green: #17433a;
            --sage-green: #99b2ac;
            --gray-text: #717375;
            --pure-white: #ffffff;
            --deep-black: #0a0a0b;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-cream); 
            color: var(--deep-black); 
            margin: 0; padding: 0;
            -webkit-font-smoothing: antialiased;
        }

        /* Branding Logo Header */
        .brand-logo-text { font-weight: 800; letter-spacing: -0.05em; color: var(--pure-white); font-size: 1.4rem; line-height: 1; }
        .brand-sub { color: var(--brand-gold); font-size: 0.6rem; letter-spacing: 0.3em; font-weight: 700; text-transform: uppercase; margin-top: 2px; }

        .nav-active {
            background-color: var(--pure-white);
            color: var(--forest-green) !important;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(176, 149, 91, 0.12);
        }

        .chart-container { position: relative; width: 100%; height: 260px; }

        .vibe-defensive { border-left: 5px solid #e5e7eb; } 
        .vibe-growth { border-left: 5px solid var(--brand-gold); } 
        .vibe-stable { border-left: 5px solid var(--sage-green); } 

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .strategy-inner { transition: all 0.3s ease; border: 2px solid transparent; }
        .strategy-checkbox:checked + .strategy-inner {
            border-color: var(--brand-gold);
            background-color: var(--pure-white);
            transform: scale(1.01);
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.05);
        }

        .news-tab-active { color: var(--forest-green); border-bottom: 3px solid var(--brand-gold); font-weight: 800; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-view { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>

<body class="flex flex-col md:flex-row h-screen overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-full md:w-80 bg-[#17433a] flex flex-col z-30 shadow-xl">
        <div class="p-8">
            
            <!-- 【核心架构】Logo 智能加载模块 -->
            <!-- 逻辑：优先加载同目录下的 logo.png，如果找不到(404)，则触发 onerror 渲染内联的高定版 SVG Logo -->
            <div class="mb-10 cursor-pointer" onclick="window.open('https://realinternational.com/', '_blank')">
                <img id="company-logo" 
                     src="./logo.png" 
                     alt="Real International Logo" 
                     class="max-h-24 w-[90%] object-contain object-left transition-transform hover:scale-105"
                     onerror="this.onerror=null; this.outerHTML='<div class=\\'flex items-center gap-3\\'><div class=\\'w-12 h-12 border-2 border-[#b0955b] flex items-center justify-center text-[#b0955b] font-black text-2xl bg-[#17433a]\\'>R</div><div><h1 class=\\'font-extrabold text-white text-[1.6rem] leading-none tracking-tight\\'>REAL <span class=\\'text-[#b0955b]\\'>INT\\'L</span></h1><p class=\\'text-[#b0955b] text-[0.65rem] font-bold uppercase tracking-[0.3em] mt-1\\'>Capital Advisory</p></div></div>';" 
                />
            </div>

            <nav class="space-y-2">
                <button onclick="showSection('overview')" id="nav-overview" class="nav-btn w-full flex items-center gap-4 px-6 py-4 rounded-xl text-sm text-white/70 hover:text-white transition-all nav-active">
                </button>
                <button onclick="showSection('strategy')" id="nav-strategy" class="nav-btn w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-sm font-medium text-white/70 hover:text-white transition-all">
                    <i class="fa-solid fa-vial-circle-check w-5"></i> Strategy Lab
                </button>
            </nav>
        </div>

        <div class="mt-auto p-8 border-t border-white/10 bg-black/5">
            <div class="flex items-center gap-4 mb-8 text-white">
                <div class="w-12 h-12 rounded-2xl bg-[#99b2ac]/20 border border-white/20 flex items-center justify-center font-bold italic shadow-inner">CC</div>
                <div>
                    <p class="text-sm font-bold tracking-tight">Chin Chang</p>
                    <p class="text-[10px] text-[#99b2ac] font-black uppercase tracking-tighter italic">Tier 1 VIP Investor</p>
                </div>
            </div>
            <button onclick="window.open('https://meetings-na2.hubspot.com/anna762', '_blank')" class="w-full py-4 bg-[#b0955b] text-[#17433a] rounded-2xl text-[11px] font-black hover:bg-[#a3804f] transition-all shadow-xl active:scale-95 flex items-center justify-center gap-2">
                <i class="fa-solid fa-calendar-check text-sm"></i> BOOK ADVISORY SESSION
            </button>
        </div>
    </aside>

    <!-- Main Content Panel -->
    <main class="flex-1 overflow-y-auto no-scrollbar relative p-6 md:p-12">
        
        <!-- View: Overview -->
        <div id="section-overview" class="view-section active space-y-12 animate-view">
            <header class="flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6">
                <div>
                    <h2 class="text-4xl font-black text-[#0a0a0b] tracking-tighter uppercase italic">Institutional <span class="text-[#b0955b]">Snapshot</span></h2>
                    <p class="text-[#717375] text-sm mt-3 leading-relaxed max-w-xl font-medium decoration-[#b0955b]/20 underline underline-offset-4">Consolidated 2025 Q3 performance summary. All metrics verified via internal AM trackers.</p>
                </div>
                <div class="bg-[#17433a] px-8 py-5 rounded-3xl shadow-2xl text-right text-white border-b-4 border-[#b0955b]">
                    <p class="text-[#99b2ac] text-[10px] font-black uppercase tracking-widest mb-1 italic tracking-tighter">Active Net Principal</p>
                    <p class="text-3xl font-bold font-mono text-[#b0955b] tracking-tighter">$1,931,866<span class="text-lg">.35</span></p>
                </div>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="glass-card p-10 rounded-[2.5rem] shadow-sm border-b-4 border-[#0a0a0b]">
                    <p class="text-[#717375] text-[11px] font-black uppercase mb-4 tracking-widest italic tracking-tighter">Cumulative Basis</p>
                    <p class="text-4xl font-bold text-[#17433a] tracking-tighter font-mono">$3,240,227</p>
                </div>
                <div class="glass-card p-10 rounded-[2.5rem] shadow-sm border-b-4 border-[#b0955b]">
                    <p class="text-[#717375] text-[11px] font-black uppercase mb-4 tracking-widest italic tracking-tighter">Capital Returned</p>
                    <p class="text-4xl font-bold text-[#b0955b] tracking-tighter font-mono">$2,220,707</p>
                </div>
                <div class="glass-card p-10 rounded-[2.5rem] shadow-sm border-b-4 border-[#99b2ac]">
                    <p class="text-[#717375] text-[11px] font-black uppercase mb-4 tracking-widest italic tracking-tighter">Realized Yield</p>
                    <p class="text-4xl font-bold text-[#17433a] font-mono tracking-tighter">$557,105</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <div class="glass-card p-10 rounded-[2.5rem]">
                    <h3 class="text-xs font-black text-[#17433a] mb-10 uppercase tracking-widest italic">Current Allocation Structure</h3>
                    <div class="chart-container"><canvas id="allocationChart"></canvas></div>
                </div>
                <div class="glass-card p-10 rounded-[2.5rem] flex flex-col justify-between">
                    <div>
                        <h3 class="text-xs font-black text-[#17433a] mb-6 uppercase tracking-widest italic tracking-tighter">Corporate Message</h3>
                        <div class="p-8 bg-stone-100/50 rounded-[2rem] border border-stone-200 shadow-inner">
                            <p class="text-sm text-[#717375] leading-relaxed italic font-medium">"Real International is strategically navigating the interest rate pivot by prioritizing high-liquidity exits in our stabilized lease portfolio while securing core-scarcity developments."</p>
                            <button onclick="window.open('https://realinternational.com/', '_blank')" class="mt-6 text-[9px] font-black text-[#b0955b] uppercase hover:underline tracking-widest">Visit Corporate Headquarters <i class="fa-solid fa-arrow-up-right-from-square ml-1"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- View: Portfolio Deep-Dive -->
        <div id="section-portfolio" class="hidden space-y-10 animate-view view-section">
            <header>
                <h2 class="text-3xl font-black text-[#0a0a0b]">Portfolio Audit Report</h2>
                <p class="text-[#717375] text-sm mt-4 font-medium italic">Project nomenclature strictly matches official Sponsor reports. Direct visibility into AM operational focus items.</p>
            </header>
            <div class="grid grid-cols-1 gap-10" id="portfolioList"></div>
        </div>

        <!-- View: Alpha Intelligence Center (REAL-TIME FETCH ENGINE) -->
        <div id="section-news" class="hidden space-y-12 animate-view view-section">
            <header class="flex flex-col lg:flex-row justify-between items-center gap-6 border-b-2 border-stone-200 pb-8 text-center md:text-left">
                <div>
                    <h2 class="text-3xl font-black text-[#0a0a0b] uppercase tracking-tighter italic">Live <span class="text-[#b0955b]">Intel Feed</span></h2>
                    <p class="text-[10px] text-green-600 font-bold uppercase mt-2"><i class="fa-solid fa-circle-dot animate-pulse"></i> Auto-Syncing with Global News</p>
                </div>
                <div class="flex flex-wrap justify-center gap-6 text-[10px] font-black uppercase tracking-[0.2em] text-[#717375]">
                    <button onclick="filterNews('all')" class="news-tab news-tab-active" id="tab-all">Latest</button>
                    <button onclick="filterNews('macro')" class="news-tab" id="tab-macro">Macro Focus</button>
                    <button onclick="filterNews('austin')" class="news-tab" id="tab-austin">Austin Growth</button>
                </div>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="newsGrid">
                <!-- Data via JS Fetch API -->
            </div>
        </div>

        <!-- View: Strategy Lab (The Simulator) -->
        <div id="section-strategy" class="hidden space-y-12 animate-view view-section">
            <header>
                <h2 class="text-3xl font-black text-[#0a0a0b]">Strategic Allocation Lab</h2>
                <p class="text-[#717375] text-sm mt-4 max-w-2xl font-medium italic underline decoration-[#b0955b]/40 underline-offset-8">Simulate the deployment of <b>$2,220,707 returned capital</b> into active pipelines. Select multiple strategies to view synergistic pro-forma impact.</p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
                <div class="lg:col-span-7 space-y-4">
                    <!-- Choice 1 -->
                    <label class="block group relative">
                        <input type="checkbox" class="strategy-checkbox hidden" id="chk-note" onchange="runSim()">
                        <div class="strategy-inner p-8 rounded-[2.5rem] border-2 border-stone-200 bg-white/40 flex flex-col md:flex-row justify-between items-center gap-8 cursor-pointer">
                            <div class="flex items-center gap-6">
                                <div class="w-16 h-16 bg-[#99b2ac]/20 text-[#17433a] rounded-2xl flex items-center justify-center text-2xl group-hover:scale-105 transition-all"><i class="fa-solid fa-file-invoice-dollar"></i></div>
                                <div>
                                    <h4 class="text-lg font-black text-[#17433a]">15% Accrued Note</h4>
                                    <p class="text-[10px] text-blue-600 font-bold uppercase underline mb-1" onclick="window.open('https://na2.hubs.ly/H03TbC-0', '_blank')">View One-Pager <i class="fa-solid fa-link ml-0.5"></i></p>
                                    <p class="text-[11px] text-[#717375] italic leading-tight">Debt: Predictable yield bridge for immediate portfolio cash flow boost.</p>
                                </div>
                            </div>
                            <div class="w-full md:w-48"><input type="number" id="val-note" value="500000" oninput="runSim()" class="w-full bg-stone-100 p-3 rounded-xl font-mono font-bold text-[#17433a] outline-none border-b-2 border-transparent focus:border-[#b0955b]"></div>
                        </div>
                    </label>
                    <!-- Choice 2 -->
                    <label class="block group relative">
                        <input type="checkbox" class="strategy-checkbox hidden" id="chk-gt48" onchange="runSim()">
                        <div class="strategy-inner p-8 rounded-[2.5rem] border-2 border-stone-200 bg-white/40 flex flex-col md:flex-row justify-between items-center gap-8 cursor-pointer">
                            <div class="flex items-center gap-6">
                                <div class="w-16 h-16 bg-[#b0955b]/20 text-[#b0955b] rounded-2xl flex items-center justify-center text-2xl group-hover:scale-105 transition-all"><i class="fa-solid fa-industry"></i></div>
                                <div>
                                    <h4 class="text-lg font-black text-[#0a0a0b]">GT-48 (Industrial)</h4>
                                    <p class="text-[10px] text-blue-600 font-bold uppercase underline mb-1" onclick="window.open('https://na2.hubs.ly/H03TbvY0', '_blank')">View One-Pager <i class="fa-solid fa-link ml-0.5"></i></p>
                                    <p class="text-[11px] text-[#717375] italic leading-tight">Industrial: Capturing Georgetown freight entitlement via 1.43x multiple.</p>
                                </div>
                            </div>
                            <div class="w-full md:w-48"><input type="number" id="val-gt48" value="500000" oninput="runSim()" class="w-full bg-stone-100 p-3 rounded-xl font-mono font-bold text-[#17433a] outline-none border-b-2 border-transparent focus:border-[#b0955b]"></div>
                        </div>
                    </label>
                    <!-- Choice 3 -->
                    <label class="block group relative">
                        <input type="checkbox" class="strategy-checkbox hidden" id="chk-mueller" onchange="runSim()">
                        <div class="strategy-inner p-8 rounded-[2.5rem] border-2 border-stone-200 bg-white/40 flex flex-col md:flex-row justify-between items-center gap-8 cursor-pointer">
                            <div class="flex items-center gap-6">
                                <div class="w-16 h-16 bg-[#17433a]/20 text-[#17433a] rounded-2xl flex items-center justify-center text-2xl group-hover:scale-105 transition-all"><i class="fa-solid fa-city"></i></div>
                                <div>
                                    <h4 class="text-lg font-black text-[#0a0a0b]">Mueller</h4>
                                    <p class="text-[10px] text-blue-600 font-bold uppercase underline mb-1" onclick="window.open('https://na2.hubs.ly/H03Tbvq0', '_blank')">View One-Pager <i class="fa-solid fa-link ml-0.5"></i></p>
                                    <p class="text-[11px] text-[#717375] italic leading-tight">Residential: Core East Austin scarcity play with rapid retail unit absorption.</p>
                                </div>
                            </div>
                            <div class="w-full md:w-48"><input type="number" id="val-mueller" value="500000" oninput="runSim()" class="w-full bg-stone-100 p-3 rounded-xl font-mono font-bold text-[#17433a] outline-none border-b-2 border-transparent focus:border-[#b0955b]"></div>
                        </div>
                    </label>
                </div>

                <div class="lg:col-span-5 flex flex-col gap-6">
                    <div class="bg-[#17433a] rounded-[3rem] p-12 text-white shadow-2xl relative overflow-hidden flex-1 flex flex-col justify-center border-b-8 border-[#b0955b]">
                        <div class="absolute -top-10 -right-10 w-48 h-48 bg-[#b0955b]/20 rounded-full blur-3xl"></div>
                        <div class="relative z-10 space-y-12">
                            <div><p class="text-[#99b2ac] text-[10px] font-black uppercase mb-3 italic tracking-widest underline decoration-[#b0955b]/30">Cumulative Monthly Yield Boost</p><p class="text-6xl font-black text-white font-mono tracking-tighter" id="res-monthly">+$0</p></div>
                            <div><p class="text-[#99b2ac] text-[10px] font-black uppercase mb-3 italic tracking-widest underline decoration-[#b0955b]/30">Est. Strategy Return</p><p class="text-6xl font-black text-[#b0955b] font-mono tracking-tighter" id="res-equity">+$0</p></div>
                        </div>
                    </div>
                    
                    <div class="glass-card rounded-[3.5rem] p-10 flex flex-col items-center shadow-xl">
                        <h3 class="text-[10px] font-black uppercase tracking-widest text-[#17433a] mb-8 italic">Pro-forma Allocation Shift</h3>
                        <div class="chart-container" style="height:210px !important;"><canvas id="proformaChart"></canvas></div>
                        <p class="text-[9px] text-[#717375] mt-8 text-center italic leading-relaxed font-medium">Reflects existing $1.93M net equity + simulated additions.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // =====================================================================
        // 【核心大招】：纯前端实时自动化新闻抓取引擎 (Live Data Fetcher)
        // 通过 rss2json 接口代理跨域访问，每天实时抓取关于“奥斯汀房产”的最新新闻
        // =====================================================================
        let GLOBAL_NEWS_DATA = [];

        // 备用硬核新闻库（当 API 抓取到达上限或网络失败时启用，确保客户永远不会看到空白或报错）
        const FALLBACK_NEWS_DATA = [
            { cat: 'austin', src: 'Texas DoT', date: 'Market Focus', title: 'Traffic on Southern SH 130 Increased to Reach Another All-Time High', link: 'https://www.mysh130.com/2023-traffic/', summary: 'Heavy truck traffic has surged significantly along the SH-130 corridor, driven by immense local commercial development.', ir: 'A direct valuation driver for GT-48. Industrial Outdoor Storage (IOS) land here is becoming a mission-critical infrastructure node.' },
            { cat: 'macro', src: 'Bloomberg', date: 'Policy Pulse', title: 'Commercial Real Estate Deals Expected to Return Post-Pivot', link: 'https://www.bloomberg.com/news/articles/2024-01-16/commercial-real-estate-market-outlook-2024-deals-return', summary: 'Global funds are re-entering core markets like Austin as the 10-year Treasury stabilizes, driving trophy asset demand.', ir: 'Validates our exit timing for stabilized leases like RCG REAL Orchard.' },
            { cat: 'austin', src: 'Statesman', date: 'Local Metrics', title: 'Austin Real Estate Market: Lower Inventory and Stabilizing Prices', link: 'https://teamprice.com/articles/austin-real-estate-market-forecast-lower-inventory-and-rising-prices', summary: 'Inventory has tightened in the core market, pointing to a firmer balance between buyers and sellers and stable price growth.', ir: 'This data validates our "Core Scarcity" focus and reinforces the pricing power for Cielo units within RCG Harvest 3.' }
        ];

        async function fetchLiveNews() {
            const grid = document.getElementById('newsGrid');
            grid.innerHTML = `<div class="col-span-full text-center py-12"><i class="fa-solid fa-circle-notch fa-spin text-4xl text-[#b0955b] mb-4"></i><p class="text-sm font-bold text-[#717375] uppercase tracking-widest">Real-time Fetching 90-Day News Feeds...</p></div>`;

            try {
                // 抓取源设置：宏观经济、奥斯汀基建、奥斯汀公司搬迁
                const feeds = [
                    { cat: 'macro', query: 'commercial+real+estate+interest+rates' },
                    { cat: 'austin', query: 'Austin+Texas+real+estate+growth' },
                    { cat: 'austin', query: 'Austin+technology+companies+relocation' }
                ];

                let allNews = [];

                for (let f of feeds) {
                    // 利用 rss2json 免费接口将 Google News RSS 转换并解析
                    // 【核心修改】：通过 +when:3m 强制要求谷歌只返回过去 3 个月以内的新闻！
                    const rssUrl = encodeURIComponent(`https://news.google.com/rss/search?q=${f.query}+when:3m&hl=en-US&gl=US&ceid=US:en`);
                    const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${rssUrl}`);
                    const data = await res.json();
                    
                    if (data.status === 'ok' && data.items.length > 0) {
                        // 取每个类别最新的 2 条真实新闻
                        const articles = data.items.slice(0, 2).map(item => {
                            // 提取来源名字，如 "Google News - Bloomberg" 取 Bloomberg
                            let srcName = item.source || item.title.split(' - ').pop() || 'Market News';
                            if(srcName.length > 20) srcName = 'Global News';
                            
                            // 清除摘要中的HTML标签，限制长度
                            let summary = item.description.replace(/<[^>]+>/g, '').substring(0, 120) + '...';
                            
                            // 动态生成对应的 IR 视角的点评
                            let irNote = "【IR 视角】实时动态数据表明机构资金对核心区域流动性正在恢复，直接利好我们在库资产退出估值。";
                            if(f.cat === 'austin') irNote = "【IR 视角】奥斯汀区域基建与企业人才的持续流入，为工业项目(GT-48)和核心住宅项目提供了地缘壁垒。";

                            return {
                                cat: f.cat,
                                src: srcName,
                                date: new Date(item.pubDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                                title: item.title.split(' - ')[0], // 简化标题
                                link: item.link,
                                summary: summary,
                                ir: irNote
                            };
                        });
                        allNews = allNews.concat(articles);
                    }
                }

                // 抓取完成判定：如果成功拿到过去3个月的数据，就打乱排序显示
                if (allNews.length > 0) {
                    GLOBAL_NEWS_DATA = allNews.sort(() => Math.random() - 0.5);
                } else {
                    // 如果因为频次被墙或没抓到，立刻启用备用硬核新闻库，确保永不空白
                    GLOBAL_NEWS_DATA = FALLBACK_NEWS_DATA;
                }
                
                filterNews('all');

            } catch (err) {
                console.error("Fetch failed. Loading verified fallback data.", err);
                // API 请求失败时静默切换到备用新闻库
                GLOBAL_NEWS_DATA = FALLBACK_NEWS_DATA;
                filterNews('all');
            }
        }

        function filterNews(cat) {
            const grid = document.getElementById('newsGrid');
            if(!grid || GLOBAL_NEWS_DATA.length === 0) return;
            
            const items = cat === 'all' ? GLOBAL_NEWS_DATA : GLOBAL_NEWS_DATA.filter(n => n.cat === cat);
            document.querySelectorAll('.news-tab').forEach(t => t.classList.remove('news-tab-active'));
            const activeTab = document.getElementById('tab-' + cat);
            if(activeTab) activeTab.classList.add('news-tab-active');

            grid.innerHTML = items.map(n => `
                <div class="glass-card p-8 rounded-[2.5rem] space-y-6 group hover:shadow-2xl transition-all animate-view flex flex-col justify-between border-b-4 border-transparent hover:border-[#b0955b]">
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-[9px] font-black uppercase tracking-[0.2em] text-[#b0955b] bg-[#17433a] px-3 py-1 rounded shadow-sm">${n.src}</span>
                            <span class="text-[9px] font-black uppercase text-stone-400 italic"><i class="fa-regular fa-clock"></i> ${n.date}</span>
                        </div>
                        <h4 class="text-lg font-black text-[#0a0a0b] leading-tight tracking-tighter">${n.title}</h4>
                        <p class="text-[11px] text-[#717375] leading-relaxed font-medium mt-4">Excerpt: ${n.summary}</p>
                        <div class="p-4 bg-stone-50 rounded-2xl border border-stone-100 shadow-inner mt-4">
                             <p class="text-[9px] font-black text-[#17433a] uppercase mb-1 tracking-widest">IR Perspective</p>
                             <p class="text-[10px] text-stone-600 italic leading-snug font-semibold">${n.ir}</p>
                        </div>
                    </div>
                    <div class="pt-4 mt-2 border-t border-stone-100">
                        <a href="${n.link}" target="_blank" class="text-[9px] font-black text-blue-600 uppercase hover:underline flex items-center gap-1 italic tracking-widest">READ SOURCE ARTICLE <i class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </div>
                </div>
            `).join('');
        }

        // =====================================================================
        // 项目与模拟器逻辑 (严格项目名及防崩溃优化)
        // =====================================================================
        const PROJECTS = [
            { name: "RCG REAL Orchard", principal: 700000, dist: 478491, official: "Stabilized operations. 4.2% NOI growth verified with 97% occupancy.", anna: "【Performance Anchor】: Orchard remains the consistent engine for the portfolio. Internal modeling targets a 2026 Portfolio Sale window to realize peak institutional-grade multiples as liquidity re-enters.", type: "Stabilized Lease", vibe: "vibe-growth" },
            { name: "RCG Harvest 3", principal: 495080.35, dist: 0, official: "Vertical construction ongoing. Preparing for Listing & Sales.", anna: "【Milestone Update】: First 10 units officially topped out. AM internal tracking indicates East Austin pre-sale interest is significantly outpacing Sponsor projections. This anchors Q4 capital recovery.", type: "Residential Dev", vibe: "vibe-growth" },
            { name: "RCG Parkside", principal: 250000, dist: 0, official: "Residential closed. Commercial units listed via broker.", anna: "【Tactical Update】: Retail scarcity in the Mueller district is maintaining robust rental pro-formas despite buyer debt costs. Executing a strategic disposal phase to achieve full basis exit by late 2026.", type: "Core Retail", vibe: "vibe-stable" },
            { name: "VC", principal: 200000, dist: 0, official: "Leasing activity in progress. Strategic asset optimization ongoing.", anna: "【Market Context】: Captured Austin's 'Flight to Quality' where premium tech tenants move to core A+ sites. Negotiations with high-credit tenants are ongoing to compress exit Cap Rates.", type: "Class A Office", vibe: "vibe-stable" },
            { name: "RCG Lending", principal: 186786, dist: 22183, official: "Notes subject to structural adjustments on underlying collateral.", anna: "【Strategic Re-alignment】: Transitioned to an 'Accrued' structure to prioritize 100% principal protection during collateral resolution phase. Monitoring asset disposals to secure basis recovery.", type: "Debt", vibe: "vibe-defensive" },
            { name: "RCG Hedge", principal: 100000, dist: 0, official: "Managing occupancy and assessing disposal timelines.", anna: "【Principal Focus Focus】: Navigating risk-digestion phase. IR overseeing management mandate to optimize NOI before a structured exit. Goal remains 100% basis recovery.", type: "Value-Add Multi", vibe: "vibe-defensive" }
        ];

        let proChartInstance = null;

        function showSection(id) {
            try {
                document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
                const target = document.getElementById('section-' + id);
                if(target) target.classList.add('active');
                
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('nav-active'));
                const btn = document.getElementById('nav-' + id);
                if(btn) btn.classList.add('nav-active');
            } catch (e) { console.error("Navigation error:", e); }
        }

        function renderPortfolio() {
            try {
                const list = document.getElementById('portfolioList');
                if(!list) return;
                
                list.innerHTML = PROJECTS.map(p => `
                    <div class="glass-card overflow-hidden group hover:shadow-lg transition-all ${p.vibe} rounded-[3.5rem]">
                        <div class="p-10 flex flex-col lg:flex-row gap-10">
                            <div class="lg:w-1/3">
                                <div class="flex items-center gap-2 mb-4 text-[10px] font-black uppercase tracking-[0.2em] text-[#b0955b]"><span>${p.type}</span></div>
                                <h4 class="text-3xl font-black text-[#0a0a0b] mb-6 leading-tight italic uppercase">${p.name}</h4>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-end border-b border-stone-100 pb-2">
                                        <span class="text-[#717375] text-[11px] font-black uppercase italic tracking-tighter">Active Basis</span>
                                        <span class="text-xl font-mono font-bold text-[#17433a]">$${p.principal.toLocaleString()}</span>
                                    </div>
                                    ${p.dist > 0 ? `<div class="flex justify-between items-end pt-1"><span class="text-[#717375] text-[11px] font-black uppercase italic tracking-tighter">Cumulative Dist.</span><span class="text-xl font-mono font-bold text-[#b0955b]">+$${p.dist.toLocaleString()}</span></div>` : ''}
                                </div>
                            </div>
                            <div class="flex-1 space-y-6">
                                <div class="p-8 bg-[#f3eee4]/50 rounded-[2rem] border border-stone-200"><p class="text-[9px] font-black text-[#717375] uppercase mb-2 tracking-widest italic font-bold">Official Sponsor Summary</p><p class="text-sm text-[#717375] leading-relaxed italic font-medium">"${p.official}"</p></div>
                                <div class="p-8 bg-white border border-[#b0955b]/20 rounded-[2rem] shadow-sm relative overflow-hidden">
                                    <div class="absolute top-0 right-0 bg-[#b0955b] text-[#17433a] text-[9px] px-3 py-1 font-black uppercase tracking-widest">Verified Track</div>
                                    <p class="text-[9px] font-black text-[#17433a] uppercase mb-2 flex items-center gap-2 tracking-widest"><i class="fa-solid fa-bolt-lightning text-[#b0955b]"></i> Real-time Milestones (Anna)</p>
                                    <p class="text-sm text-[#0a0a0b] leading-relaxed font-bold">${p.anna}</p>
                                </div>
                            </div>
                        </div>
                    </div>`).join('');
            } catch (e) { console.error("Portfolio render error:", e); }
        }

        function runSim() {
            try {
                let monthly = 0; let profit = 0;
                let bals = { lease: 800000, dev: 495080, comm: 450000, debt: 186786 };

                const chkNote = document.getElementById('chk-note');
                const chkGt48 = document.getElementById('chk-gt48');
                const chkMueller = document.getElementById('chk-mueller');

                if(chkNote && chkNote.checked) {
                    const v = parseFloat(document.getElementById('val-note').value) || 0;
                    monthly += (v * 0.15) / 12; profit += (v * 0.15); bals.debt += v;
                }
                if(chkGt48 && chkGt48.checked) {
                    const v = parseFloat(document.getElementById('val-gt48').value) || 0;
                    profit += (v * 0.43); bals.dev += v;
                }
                if(chkMueller && chkMueller.checked) {
                    const v = parseFloat(document.getElementById('val-mueller').value) || 0;
                    monthly += (v * 0.08) / 12; profit += (v * 0.25); bals.comm += v;
                }

                document.getElementById('res-monthly').innerText = '+$' + Math.round(monthly).toLocaleString();
                document.getElementById('res-equity').innerText = '+$' + Math.round(profit).toLocaleString();

                if(proChartInstance) {
                    proChartInstance.data.datasets[0].data = Object.values(bals);
                    proChartInstance.update();
                }
            } catch (e) { console.error("Simulation error:", e); }
        }

        window.onload = function() {
            try {
                showSection('overview');
                renderPortfolio(); 
                
                // 页面加载完毕后，立刻开始后台隐式抓取全球新闻
                fetchLiveNews();
                
                const allocCtx = document.getElementById('allocationChart')?.getContext('2d');
                if(allocCtx) {
                    new Chart(allocCtx, {
                        type: 'doughnut', data: { labels: ['Stabilized', 'Development', 'Commercial', 'Defensive'], datasets: [{ data: [1050000, 495080, 200000, 186786], backgroundColor: ['#17433a', '#b0955b', '#99b2ac', '#717375'], borderWidth: 0, hoverOffset: 10 }] },
                        options: { maintainAspectRatio: false, cutout: '80%', plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, padding: 20, font: { size: 10, weight: 'bold' }, color: '#717375' } } } }
                    });
                }
                
                const trendCtx = document.getElementById('trendChart')?.getContext('2d');
                if(trendCtx) {
                    new Chart(trendCtx, {
                        type: 'bar', data: { labels: ['23 FY', '24 FY', '25 Q1', '25 Q2', '25 Q3'], datasets: [{ label: 'Distributions', data: [120000, 180000, 45000, 52000, 160105], backgroundColor: '#17433a', borderRadius: 10, barThickness: 15 }] },
                        options: { maintainAspectRatio: false, scales: { y: { display: false }, x: { grid: { display: false }, ticks: { font: { size: 10, weight: 'bold' }, color: '#94A3B8' } } }, plugins: { legend: { display: false } } }
                    });
                }

                const proCtx = document.getElementById('proformaChart')?.getContext('2d');
                if(proCtx) {
                    proChartInstance = new Chart(proCtx, {
                        type: 'pie', data: { labels: ['Stabilized', 'Development', 'Commercial', 'Defensive'], datasets: [{ data: [800000, 495080, 450000, 186786], backgroundColor: ['#17433a', '#b0955b', '#99b2ac', '#717375'], borderWidth: 2, borderColor: '#ffffff' }] },
                        options: { maintainAspectRatio: false, plugins: { legend: { display: false } } }
                    });
                }
                
                runSim();
            } catch (e) { console.error("Initialization error:", e); }
        };
    </script>
</body>
</html>
